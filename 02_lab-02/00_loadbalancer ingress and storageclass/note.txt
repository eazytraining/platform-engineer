# install baremetal loadbalancer : metallb and nginx ingress controller

kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.13.9/config/manifests/metallb-native.yaml
kubectl get all -n metallb-system
kubectl apply -f https://raw.githubusercontent.com/eazytraining/kubernetes-certified-administrator-training/main/09_lab-09/ip_address_pool/ipaddresspool.yml
kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.7.0/deploy/static/provider/cloud/deploy.yaml

kubectl get svc -n ingress-nginx -o wide
# get external IP of ingress-nginx-controller service loadbalancer 

# Install Storage class  example-nfs

nfs_base_url=https://raw.githubusercontent.com/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/nfs-server-provisioner-1.8.0/deploy/kubernetes

kubectl create -f ${nfs_base_url}/deployment.yaml
kubectl create -f ${nfs_base_url}/rbac.yaml
kubectl create -f ${nfs_base_url}/class.yaml